{% extends "_base.html" %}

{% block page %}
    <div class="pure-u-4-5">
        <h1>Edit {{ cs.name }}</h1>
        <form class="pure-form pure-form-stacked" action="" method="post">
            <fieldset>
                <label for="stacked-name">Name</label>
                <input type="text" id="stacked-name" name="name" class="pure-input-1" value="{{ cs.name }}"/>

                <label for="stacked-url">Page URL</label>
                <input type="text" id="stacked-url" class="pure-input-1" name="url" value="{{ cs.params.url }}"/>

                <label for="stacked-state">Capture Type</label>

                <select id="stacked-state" name="capture_type" hx-get="/api/capture_types/slots" hx-target="#slots">
                    {% for ct in capture_types %}
                        <option {{ 'selected' if cs.capture_type == ct }}>{{ ct }}</option>
                    {% endfor %}
                </select>

                <h2>Parameter Slots</h2>
                <div id="slots">
                    {% include 'slots.html' %}
                </div>

                <button type="submit" class="pure-button pure-button-primary">Save</button>
                or <a href="/">cancel</a>
                <hr>
                <div style="margin-top: 100px">
                    <a href="" hx-confirm="Are you sure?" hx-delete="/api/sources/{{ cs.id }}" class="pure-button danger-button">Delete</a>
                </div>
            </fieldset>
        </form>
    </div>
{% endblock %}